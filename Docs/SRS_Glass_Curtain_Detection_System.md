# 玻璃幕墙缺陷智能检测系统 SRS

---

# 0. 封面

**项目名称**：玻璃幕墙缺陷智能检测系统  
**版本**：1.0
**日期**：2025-12-10  
**作者**： 陈柏熙、王雷、袁艺铭、黄景胤 
**指导人员**： 黄杰

---

# 1. 引言

## 1.1 目的
本软件旨在实现玻璃幕墙的自爆裂纹、表面污渍自动检测、不平整定性分析及不平整度量化，实现从日常维护到工程验收的全流程覆盖。系统将通过图像采集、结构光投影、双目立体视觉及点云偏差分析，提供可量化、可追溯的工程指标，支持物业维护、工程检测和施工监管需求。

## 1.2 范围
系统适用于城市高层建筑和商业综合体幕墙检测。功能包括：
1. 自爆裂纹与污渍自动检测与可视化。
2. 幕墙不平整定性分析。
3. 不平整度量化测量，输出工程可用指标（最大偏差、均值偏差、RMS）。
4. 缺陷报告生成与数据管理。
系统可用于日常维护、专业检测和工程验收。

## 1.3 定义、缩略语及缩写
- **幕墙 (Curtain Wall)**: 建筑外围护墙体，不承重，常采用玻璃面板。  
- **点云 (Point Cloud)**: 由三维扫描获得的离散空间点集合，用于三维重建。  
- **结构光 (Structured Light)**: 投影特定图案用于测量三维形状的光学方法。  
- **RMS**: 均方根偏差 (Root Mean Square deviation)。  

## 1.4 参考文献
1. 中华人民共和国住房和城乡建设部. **玻璃幕墙工程质量检验标准** [S]. 北京: 中国建筑工业出版社, 2020. JGJ/T 139-2020. 发布日期: 2020-04-16, 实施日期: 2020-10-01.  
2. 中铁建设集团有限公司, 中国铁路成都局集团有限公司客站建设指挥部, 重庆大学. **基于计算机视觉的玻璃幕墙施工误差检测方法** [P]. CN 119991654 A, 2025-04-11.  
3. 中华人民共和国国家质量监督检验检疫总局, 中国国家标准化管理委员会. **建筑幕墙** [S]. GB/T 21086-2007. 发布日期: 2007-09-11, 实施日期: 2008-02-01.  
4. OpenCV Development Team. *OpenCV: Open Source Computer Vision Library* [M]. 2024.  
5. PyTorch Development Team. *PyTorch: An Imperative Style, High-Performance Deep Learning Library* [M]. 2024.  
6. React Documentation. *React – A JavaScript Library for Building User Interfaces* [EB/OL]. 2024. https://react.dev  
7. FastAPI Documentation. *FastAPI – High Performance Python Web Framework* [EB/OL]. 2024. https://fastapi.tiangolo.com  
8. Spring Boot Documentation. *Spring Boot Reference Guide* [EB/OL]. 2024. https://spring.io/projects/spring-boot  

## 1.5 文档概览
本文档描述系统的总体结构、功能需求、非功能需求、约束条件及标准遵从性，旨在为设计、实现和验证提供依据。

---

# 2. 系统总体描述

## 2.1 产品概述
本系统是独立软件产品，可与建筑管理平台或数据存储系统接口。输入包括幕墙图像及结构光数据，输出为可视化缺陷标注图、量化偏差报告及历史记录存储。系统采用投影反射差分 + 双目立体视觉 + 点云偏差分析的技术路线。

## 2.2 系统接口
- 接入建筑管理平台API，实现检测结果上传。  
- 可选文件接口支持CSV/JSON格式数据导入/导出。  

## 2.3 用户界面
- Web前端基于React，提供图像上传、实时检测、结果浏览及历史记录查询。  
- 界面简洁直观，无需专业训练即可操作。  

## 2.4 硬件接口
- 投影仪：支持结构光棋盘格投影。  
- 双目相机：完成标定、同步曝光，输出图像数据。  
- 工作站：需满足图像处理与点云计算性能要求。  

## 2.5 软件接口
- 后端使用Spring Boot提供REST API服务。  
- 算法层使用Python + FastAPI。  
- 数据库可选MySQL或PostgreSQL存储检测记录。  
- 可选深度学习依赖: PyTorch。  

## 2.6 通信接口
- HTTP/HTTPS协议用于前端与后端通信。  
- 支持局域网内部文件传输。  

## 2.7 内存约束
- 支持至少10万张图像和1000+点云记录。  
- 内存需满足单次点云处理不超过16GB RAM。  

## 2.8 操作约束
- 可进行自动检测、历史记录检索、报告生成。  
- 支持无人值守批量处理任务。  

## 2.9 适应性需求
- 投影与摄像设备位置可调节以适应不同建筑高度与环境光条件。  

---

# 3. 具体需求

## 3.1 功能需求

### F1 自爆裂纹检测
#### FR-1.1 玻璃区域提取
自动分割玻璃区域，排除窗框、墙体干扰。  
#### FR-1.2 裂纹识别
识别钢化玻璃自爆裂纹，检测其位置与范围。  
#### FR-1.3 裂纹定位与标注
输出图像标注裂纹区域，提供坐标信息。

### F2 不平整定性
#### FR-2.1 反射一致性分析
分析表面反射纹理判断波形变形。  
#### FR-2.2 波纹模式识别
识别明显不平整的反射结构，支持分类判断。  
#### FR-2.3 等级判定
输出不平整等级：平整 / 轻微 / 明显 / 严重。

### F3 不平整度量化（核心）
#### FR-3.1 结构光投影
控制投影仪投射棋盘格或结构光，使用两台参数相同的摄像机对投影拍摄**有投影和无投影的双目图像**。  
#### FR-3.2 差分获取
使用差分算法比较有投影和无投影的双目图像，计算差分图，突出结构光投影区域。  
#### FR-3.3 角点提取
从差分图像中识别棋盘格角点，输出亚像素级坐标，用于三维重建。  
#### FR-3.4 双目重建
基于双目图像进行立体匹配，恢复玻璃表面三维点云，并进行初步滤波去除噪声。  
#### FR-3.5 平面拟合
拟合理想参考平面或设计平面，为偏差计算提供基准，并允许自定义区域选择。  
#### FR-3.6 偏差指标计算
计算并输出不平整度的量化指标：
- 最大偏差 (Max deviation)  
- 平均偏差 (Mean deviation)  
- 均方根偏差 (RMS)  
- 偏差分布热图（可选）  

### F4 报告生成
#### FR-4.1 缺陷标注图生成
生成可视化标注图，包括裂纹/污渍/不平整区域。  
#### FR-4.2 偏差报告生成
输出结构化报告，包括点云分析结果、偏差指标、不平整等级及异常区域展示。

### F5 数据管理
#### FR-5.1 原始数据存储
保存采集图像、差分图、点云及检测参数。  
#### FR-5.2 历史记录检索
支持按时间、位置、报告编号及摘要查询历史记录。

## 3.2 非功能需求
1. **性能**：单张裂纹/污渍检测 ≤ 1秒；不平整度量化 ≤ 15秒；支持10万图像及1000+点云存储。  
2. **可靠性**：保证反射场景下稳定识别，错误提示而非崩溃。  
3. **可用性**：界面简洁、一键检测，无需专业培训。  
4. **可维护性/可扩展性**：模块化设计，支持升级与多设备兼容。  
5. **安全性**：数据权限管理，施工方不可修改检测机构数据。

---

# 4. 约束条件

### 硬件约束
- C-1 投影仪支持棋盘格或结构光。  
- C-2 双目相机完成标定、同步曝光，保持刚性结构。  
- C-3 投影仪与幕墙距离需在X–Y范围。  

### 环境约束
- C-4 外界光照不能完全覆盖投影光。  
- C-5 风力影响不能导致采集设备震动。  

### 技术约束
- C-6 核心反射抑制采用投影反射差分。  
- C-7 双目重建采用固定标定参数。  

### 行业/规范约束
- C-8 不平整度指标必须符合 JGJ/T 139-2020、GB/T 21086-2007。  
- C-9 输出报告格式需符合工程验收要求。  

---

# 5. 遵从标准
- JGJ/T 139-2020 《玻璃幕墙工程质量检验标准》  
- GB/T 21086-2007 《建筑幕墙》  

---

# 6. 附录
- 系统流程活动图  
![alt text](image-2.png)
- 功能结构：n
```
F1 自爆裂纹检测
├─ FR-1.1 玻璃区域提取
├─ FR-1.2 裂纹识别
└─ FR-1.3 裂纹定位与标注

F2 不平整定性分析
├─ FR-2.1 反射一致性分析
├─ FR-2.2 波纹模式识别
└─ FR-2.3 等级判定

F3 不平整度量化
├─ FR-3.1 结构光投影
├─ FR-3.2 差分获取
├─ FR-3.3 角点提取
├─ FR-3.4 双目重建
├─ FR-3.5 平面拟合
└─ FR-3.6 偏差指标计算

F4 报告生成
├─ FR-4.1 缺陷标注图生成
└─ FR-4.2 偏差报告生成

F5 数据管理
├─ FR-5.1 原始数据存储
└─ FR-5.2 历史记录检索
```